<!--
This file is part of the eskimo project referenced at www.eskimo.sh. The licensing information below apply just as
well to this individual file than to the Eskimo Project as a whole.

Copyright 2019 - 2023 eskimo.sh / https://www.eskimo.sh - All rights reserved.
Author : eskimo.sh / https://www.eskimo.sh

Eskimo is available under a dual licensing model : commercial and GNU AGPL.
If you did not acquire a commercial licence for Eskimo, you can still use it and consider it free software under the
terms of the GNU Affero Public License. You can redistribute it and/or modify it under the terms of the GNU Affero
Public License  as published by the Free Software Foundation, either version 3 of the License, or (at your option)
any later version.
Compliance to each and every aspect of the GNU Affero Public License is mandatory for users who did no acquire a
commercial license.

Eskimo is distributed as a free software under GNU AGPL in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
Affero Public License for more details.

You should have received a copy of the GNU Affero Public License along with Eskimo. If not,
see <https://www.gnu.org/licenses/> or write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
Boston, MA, 02110-1301 USA.

You can be released from the requirements of the license by purchasing a commercial license. Buying such a
commercial license is mandatory as soon as :
- you develop activities involving Eskimo without disclosing the source code of your own product, software,
  platform, v
- you deploy eskimo as part of a commercial product, platform or software.
For more information, please contact eskimo.sh at https://www.eskimo.sh

The above copyright notice and this licensing notice shall be included in all copies or substantial portions of the
Software.
-->

<div id="status-management"
     class="panel theme-panel inner-content-inner ">

    <div id="nodeContainer-status">

        <div class="row">
            <div class="col-md-12">
                <h3>Eskimo System Status</h3>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12" id="status-monitoring-info-container">
                <div class="card">
                    <div class="card-header">
                        <h4 class="header-title">Eskimo System Information</h4>
                    </div>
                    <div class="card-body status-monitoring-info">
                        <div class="col-md-6" id="status-monitoring-info-panel">
                            <table class="system-information">
                                <tr>
                                    <td class="info-label">Eskimo version</td><td> : <span id="eskimo-flavour"></span> - <span id="system-information-version"></span></td>
                                </tr>

                                <tr>
                                    <td class="info-label">Logged in user</td><td> : <span id="logged-user"></span></td>
                                </tr>
                                <tr>
                                    <td class="info-label">with Role</td><td> : <span id="logged-role"></span></td>
                                </tr>

                                <tr>
                                    <td class="info-label">Eskimo build timestamp</td><td> : <span id="system-information-timestamp"></span></td>
                                </tr>
                                <tr>
                                    <td class="info-label">Runtime Start timestamp</td><td> : <span id="system-information-start-timestamp"></span></td>
                                </tr>

                                <tr>
                                    <td class="info-label">Eskimo SSH User</td><td> : <span id="system-information-user"></span></td>
                                </tr>

                                <tr>
                                    <td class="info-label">Number of nodes</td><td> : <span id="system-number-nodes"></span></td>
                                </tr>
                                <tr>
                                    <td class="info-label">Native services</td><td> : <span id="system-native-services"></span></td>
                                </tr>
                                <tr>
                                    <td class="info-label">Kube services</td><td> : <span id="system-kube-services"></span></td>
                                </tr>

                                <tr>
                                    <td class="info-label">Nodes Status</td><td> : <span id="system-information-nodes-status"></span></td>
                                </tr>
                                <tr>
                                    <td class="info-label">Services Status</td><td> : <span id="system-information-services-status"></span></td>
                                </tr>
                                <tr>
                                    <td>&nbsp;</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-xs-12 col-sm-12 col-md-8" id="status-monitoring-grafana" style="visibility: hidden; display: none;">
                <div class="card">
                    <div class="card-header">
                        <h4 class="header-title">Eskimo Cluster Wide System Monitoring</h4>
                    </div>
                    <div class="card-body status-monitoring-dashboard-panel">
                        <div id="status-monitoring-no-dashboard">
                            (Grafana not available or no dashboard configured)
                        </div>
                        <iframe title="monitoring" id="status-monitoring-dashboard-frame" src="html/emptyPage.html" style="display: none;"></iframe>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12 col-md-12">
                <div class="card">

                    <div class="card-header">
                        <h4 class="header-title">Eskimo Cluster Nodes Status
                            <span id="last-status-update-info">
                                (no update yet)
                            </span>
                        </h4>
                    </div>
                    <div class="card-body" style="padding: 15px 5px 15px 5px;">


                    <div class="col-xs-12 col-md-12 status-render-options" id="status-node-container-empty" style="visibility: hidden;">
                        <div id="nodes-status-empty-content">
                            <div class="col-lg-4 col-md-6 col-sm-8 col-xs-12">
                                <address>(No nodes / services configured yet)</address>
                            </div>
                        </div>
                        <div class="col-md-12 btn-toolbar">
                            <div class="btn-group">
                                <a href="javascript:" id="empty-nodes-configure">Configure Nodes</a>
                            </div>
                        </div>
                    </div>

                        <div class="col-xs-12 col-md-12 status-render-options" id="status-node-container-table"
                             style="visibility: hidden;">
                            <div class="table-responsive status-table">
                                <table id="status-node-table" class="table table-bordered table-hover">
                                    <thead id="status-node-table-head">
                                    </thead>
                                    <tbody id="status-node-table-body">

                                    </tbody>
                                </table>
                            </div>

                        <div class="col-md-12 btn-toolbar">

                            <div class="btn-group">
                                <button id="show-all-nodes-btn" name="show-all-nodes-btn" class="btn btn-secondary ms-2 filter-btn">
                                Show all nodes
                                </button>
                            </div>
                            <div class="btn-group">
                                <button id="show-master-services-btn" name="show-master-services-btn" class="btn btn-secondary ms-2 filter-btn">
                                    Show only master services
                                </button>
                            </div>
                            <div class="btn-group">
                                <button id="show-issues-btn" name="show-issues-btn" class="btn btn-secondary ms-2 filter-btn">
                                    Show only issues
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div class="col-xs-12 col-md-12" id="service-status-warning" style="visibility: hidden; display: none;">
    <div class="alert alert-warning bg-warning text-white border-0" role="alert" id="service-status-warning-message">
    </div>
</div>

</div>

<ul id="serviceContextMenuTemplate" class="dropdown-menu" role="menu" style="display:none" >
</ul>

<ul id="serviceContextMenu" class="dropdown-menu" role="menu" style="display:none" >
</ul>

<ul id="nodeContextMenuTemplate" class="dropdown-menu" role="menu" style="display:none" >
</ul>

<ul id="nodeContextMenu" class="dropdown-menu" role="menu" style="display:none" >
</ul>